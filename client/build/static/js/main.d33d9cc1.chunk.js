(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,a){e.exports=a(393)},152:function(e,t,a){},231:function(e,t,a){},393:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),c=(a(152),a(396)),i=a(397),s=a(16),u=a(133),d=a.n(u),m=a(135),p=a.n(m),h=a(37),g=a.n(h),b=Object(s.withStyles)({root:{marginBottom:"2rem"}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(d.a,{position:"static",color:"primary"},r.a.createElement(p.a,null,r.a.createElement(g.a,{variant:"h6",color:"inherit"},"HubSpot Web Scraper"))))}),f=a(28),v=a.n(f),E=Object(s.withStyles)({root:{display:"flex",flexFlow:"column wrap",justifyContent:"center",alignItems:"center",padding:"3rem 2rem"},h1:{fontSize:"4rem"},h2:{fontSize:"3rem"}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(g.a,{className:t.h1,component:"h1",variant:"h1",gutterBottom:!0},"HubSpot Web Scraper"),r.a.createElement(g.a,{className:t.h2,variant:"h2",gutterBottom:!0},"Get Started"),r.a.createElement(v.a,{href:"/auth/hubspot",variant:"outlined",color:"primary"},"Sign in with HubSpot"))}),S=(a(231),a(17)),y=a(18),j=a(20),O=a(19),w=a(21),k=a(142),I=a.n(k),C=a(143),x=a.n(C),N=a(144),P=a.n(N),D=a(50),F=a.n(D),U=a(51),A=a.n(U),R=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).renderContent=function(e){switch(e){case 0:return r.a.createElement("div",null,r.a.createElement("p",null,"Welcome to the HubSpot Web Scraper!"),r.a.createElement("p",null,"Start by entering the URL of your website and then hit next."));case 1:return r.a.createElement("div",null,r.a.createElement("p",null,"We just checked your website and these are the posts and images we found."),r.a.createElement("p",null,"Make sure these are correct and then click next"));case 2:return"Now that we have the posts data we can see which posts are in HubSpot. Once you have reviewed the posts click next and this will upload your images into the HubSpot File Manager";case 3:return"Awesome! Images are uploading into HubSpot";case 4:return"Updating your HubSpot Posts!!";default:return null}},a}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.activeStep;return r.a.createElement(F.a,{className:t.card},r.a.createElement(A.a,{className:t.cardContent},this.renderContent(a)))}}]),t}(n.Component),W=Object(s.withStyles)({card:{maxWidth:"700px",margin:"20px auto",padding:"20px"},cardContent:{display:"flex",justifyContent:"center",alignItems:"center"}})(R),H=["Get website data","Check HubSpot","Upload Images","Update Posts","Complete"],V=a(25),M=a(78),B=a.n(M),L=r.a.createContext(),T=a(75),q=a.n(T),z=a(79),G=a.n(z),J=a(76),Y=a.n(J),_=a(77),X=a.n(_),K=Object(s.withStyles)({button:{margin:"20px 0"},select:{textAlign:"left",marginTop:"20px!important"}})(function(e){var t=e.url,a=e.selector,n=e.blogName,o=e.pagination,l=e.backgroundImageSelector,c=e.backgroundImage,i=e.classes,s=e.handleInputChange,u=e.handleNext;return r.a.createElement("div",null,r.a.createElement(V.ValidatorForm,{onSubmit:u},r.a.createElement(V.TextValidator,{label:"Website URL",onChange:s,name:"url",type:"website",validators:["isURL","required"],errorMessages:["this field is required"],value:t}),r.a.createElement(V.TextValidator,{label:"Post Selector",name:"selector",type:"selector",validators:["isEmpty","required"],errorMessages:["this field is required"],value:a,onChange:s}),r.a.createElement(V.TextValidator,{label:"Blog Name",name:"blogName",type:"name",value:n,onChange:s}),r.a.createElement(V.TextValidator,{label:"Pagination",name:"pagination",type:"pagination",value:o,onChange:s}),r.a.createElement(V.TextValidator,{label:"Background Image Selector",name:"backgroundImageSelector",type:"backgroundImageSelector",value:l,onChange:s}),r.a.createElement(Y.a,{className:i.formControl},r.a.createElement(q.a,{htmlFor:"background-image"},"Background Image"),r.a.createElement(X.a,{className:i.select,value:c,onChange:s,inputProps:{name:"backgroundImage",id:"background-image"}},r.a.createElement(G.a,{value:"true"},"Yes"),r.a.createElement(G.a,{value:"false"},"No"))),r.a.createElement(v.a,{className:i.button,type:"submit",variant:"contained",color:"primary"},"Get Website Data")))}),Q=function(e){function t(){return Object(S.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){V.ValidatorForm.addValidationRule("isURL",function(e){return!!B.a.isURL(e.toString())}),V.ValidatorForm.addValidationRule("isEmpty",function(e){return!B.a.isEmpty(e)})}},{key:"render",value:function(){var e=this.props.handleNext;return r.a.createElement(L.Consumer,null,function(t){return r.a.createElement(K,{url:t.url,selector:t.selector,blogName:t.blogName,pagination:t.pagination,backgroundImageSelector:t.backgroundImageSelector,backgroundImage:t.backgroundImage,handleInputChange:t.handleInputChange,handleNext:e})})}}]),t}(n.Component),Z=a(138),$=a.n(Z),ee=a(140),te=a.n(ee),ae=a(39),ne=a.n(ae),re=a(139),oe=a.n(re),le=a(80),ce=a.n(le),ie=a(36),se=a.n(ie),ue=a(137),de=a.n(ue),me=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).errorSwitch=function(e){switch(e){case 400:return"Check your slug. Doesn't seem to match HubSpot";case 401:return"You're not authorized for this portal";case 500:return"Woah server error";default:return null}},a}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.error,t=e&&e.response.status;return r.a.createElement(r.a.Fragment,null,this.errorSwitch(t))}}]),t}(n.Component),pe=function(e){var t=e.url;return r.a.createElement("div",null,r.a.createElement("p",null,"Couldnt find any data from your website. Try checking your URL"),r.a.createElement("p",null,"URL Submitted:",t))},he=Object(s.withStyles)(function(){return{root:{minHeight:"500px",maxWidth:"700px",width:"100%",margin:"20px auto",overflowX:"auto",display:"flex",justifyContent:"center",alignItem:"center"},head:{backgroundImage:"linear-gradient(to right top, #3f51b5, #5262bf, #6473c9, #7684d3, #8895dc);"},cell:{color:"#fff"}}})(function(e){var t=e.data,a=e.url,n=e.loading,o=e.error,l=e.classes;return r.a.createElement("main",{className:"website__data"},r.a.createElement(se.a,{className:l.root},!t.length&&n&&r.a.createElement(de.a,{color:"secondary"}),!t.length&&!n&&r.a.createElement(me,{error:o}),t&&!t.length&&!n&&!o&&r.a.createElement(pe,{url:a}),t&&!!t.length&&r.a.createElement($.a,{className:l.table},r.a.createElement(oe.a,{className:l.head},r.a.createElement(ce.a,null,r.a.createElement(ne.a,{className:l.cell},"Slug"),r.a.createElement(ne.a,{className:l.cell},"Featured Image"))),r.a.createElement(te.a,null,t.map(function(e){return r.a.createElement(ce.a,{key:e.id},r.a.createElement(ne.a,null,e.slug),r.a.createElement(ne.a,null,e.featuredImage?r.a.createElement("img",{src:(t=e.featuredImage,t&&t.includes("background-image")?t.replace("background-image:","").match(/\((.*?)\)/)[1].replace(/('|")/g,""):t),height:"250",width:"250",alt:""}):"No featured image found"));var t})))))}),ge=function(e){function t(){return Object(S.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.handleFetch)()}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.url,n=e.error,o=e.loading;return r.a.createElement(he,{data:t,url:a,error:n,loading:o})}}]),t}(n.Component),be=function(e){return r.a.createElement(L.Consumer,null,function(t){return r.a.createElement(ge,Object.assign({},e,{data:t.data,url:t.url,error:t.error,loading:t.loading,handleFetch:t.handleFetch}))})},fe=function(e){function t(){return Object(S.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.handlePosts)()}},{key:"render",value:function(){var e=this.props,t=e.hubSpotPosts,a=e.error,n=e.loading;return r.a.createElement(he,{data:t,error:a,loading:n})}}]),t}(n.Component),ve=function(e){return r.a.createElement(L.Consumer,null,function(t){return r.a.createElement(fe,Object.assign({},e,{hubSpotPosts:t.hubSpotPosts,error:t.error,loading:t.loading,handlePosts:t.handlePosts}))})},Ee=function(e){function t(){return Object(S.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.handleImages)()}},{key:"render",value:function(){var e=this.props,t=e.hubspotPostswImages,a=e.error,n=e.loading;return r.a.createElement(he,{data:t,error:a,loading:n})}}]),t}(n.Component),Se=function(e){return r.a.createElement(L.Consumer,null,function(t){return r.a.createElement(Ee,Object.assign({},e,{hubspotPostswImages:t.hubspotPostswImages,error:t.error,loading:t.loading,handleImages:t.handleImages}))})},ye=a(141),je=a.n(ye),Oe={angle:90,spread:"250",startVelocity:45,elementCount:50,dragFriction:.1,duration:6e3,delay:0,width:"10px",height:"10px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"]},we=Object(s.withStyles)({confetti:{width:"20px",margin:"0 auto"}})(function(e){var t=e.confettiActive,a=e.classes;return r.a.createElement(je.a,{className:a.confetti,active:t,config:Oe})}),ke=Object(s.withStyles)({root:{width:"100%",maxWidth:"700px",margin:"0 auto"},card:{maxWidth:"700px",margin:"20px auto",padding:"20px"},cardContent:{display:"flex",justifyContent:"center",alignItems:"center"}})(function(e){var t=e.uploadDone,a=e.classes;return r.a.createElement("div",{className:a.root},r.a.createElement(we,{confettiActive:t}),r.a.createElement(F.a,{className:a.card},r.a.createElement(A.a,{className:a.cardContent},t?"Successfully updated your posts!! \ud83d\ude80\ud83d\ude80":"Updating posts...")))}),Ie=function(e){function t(){return Object(S.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.handleUpload)()}},{key:"render",value:function(){var e=this.props,t=e.uploadDone,a=e.confettiActive,n=e.error,o=e.loading;return r.a.createElement(ke,{uploadDone:t,confettiActive:a,error:n,loading:o})}}]),t}(n.Component),Ce=function(e){return r.a.createElement(L.Consumer,null,function(t){return r.a.createElement(Ie,Object.assign({},e,{uploadDone:t.uploadDone,error:t.error,loading:t.loading,handleUpload:t.handleUpload}))})},xe=Object(s.withStyles)({button:{margin:"5px"}})(function(e){var t=e.loading,a=e.activeStep,n=e.handlePrevious,o=e.handleNext,l=e.handleReset,c=e.classes;return r.a.createElement(r.a.Fragment,null,a>=1&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:c.button,disabled:0===a,variant:"contained",color:"primary",onClick:n},"Back"),a<=4&&r.a.createElement(v.a,{className:c.button,variant:"contained",disabled:t,color:"primary",onClick:4===a?l:o},4===a?"Finish":"Next")))}),Ne=function(e){return r.a.createElement(L.Consumer,null,function(t){return r.a.createElement(xe,Object.assign({loading:t.loading},e))})},Pe=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={activeStep:0},a.handleNext=function(){var e=a.state.activeStep;a.setState({activeStep:e+1})},a.handlePrevious=function(){var e=a.state.activeStep;a.setState({activeStep:e-1})},a.handleReset=function(){window.location.reload()},a.getStepContent=function(e){switch(e){case 0:return r.a.createElement(Q,{handleNext:a.handleNext});case 1:return r.a.createElement(be,null);case 2:return r.a.createElement(ve,null);case 3:return r.a.createElement(Se,null);case 4:return r.a.createElement(Ce,null);default:return null}},a}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.activeStep;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.root},r.a.createElement(I.a,{className:e.stepper,activeStep:t},H.map(function(e){return r.a.createElement(x.a,{key:e.id},r.a.createElement(P.a,null,e))}))),r.a.createElement(W,{activeStep:t}),this.getStepContent(t),r.a.createElement(Ne,{activeStep:t,handleNext:this.handleNext,handlePrevious:this.handlePrevious,handleReset:this.handleReset}))}}]),t}(n.Component),De=Object(s.withStyles)({root:{width:"90%",margin:"0 auto"},stepper:{backgroundColor:"#eee"}})(Pe),Fe=a(145),Ue=a(40),Ae=a.n(Ue),Re=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],loading:!1,error:null,url:"",selector:"",blogName:"",pagination:"",backgroundImage:"false",backgroundImageSelector:"",hubSpotPosts:[],hubspotPostswImages:[],uploadDone:!1},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Fe.a)({},n,r))},a.handleFetch=function(){var e=a.state,t=e.url,n=e.selector,r=e.pagination,o=e.backgroundImageSelector,l=e.backgroundImage;a.setState({loading:!0,error:null}),Ae.a.post("/api/v1/website",{url:t,selector:n,pagination:r,backgroundImageSelector:o,backgroundImage:l}).then(function(e){return a.setState({data:e.data,loading:!1})},function(e){return a.setState({loading:!1,error:e})})},a.handlePosts=function(){var e=a.state,t=e.data,n=e.blogName;a.setState({loading:!0,error:null}),Ae.a.post("/api/v1/posts",{postData:t,blogName:n}).then(function(e){return a.setState({hubSpotPosts:e.data,loading:!1})},function(e){return a.setState({loading:!1,error:e})})},a.handleImages=function(){var e=a.state,t=e.hubSpotPosts,n=e.backgroundImage;a.setState({loading:!0,error:null}),Ae.a.post("/api/v1/images",{postData:t,backgroundImage:n}).then(function(e){return a.setState({hubspotPostswImages:e.data,loading:!1})},function(e){return a.setState({loading:!1,error:e})})},a.handleUpload=function(){var e=a.state.hubspotPostswImages;a.setState({loading:!0,error:null}),Ae.a.post("/api/v1/updateData",{postData:e}).then(function(e){return a.setState({uploadDone:e.data})},function(e){return a.setState({loading:!1,error:e})})},a}return Object(w.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.loading,n=e.error,o=e.url,l=e.selector,c=e.blogName,i=e.pagination,s=e.backgroundImageSelector,u=e.backgroundImage,d=e.hubSpotPosts,m=e.hubspotPostswImages,p=e.uploadDone,h=e.confettiActive,g=this.props.children;return r.a.createElement(L.Provider,{value:{data:t,loading:a,error:n,url:o,selector:l,blogName:c,pagination:i,backgroundImageSelector:s,backgroundImage:u,hubSpotPosts:d,hubspotPostswImages:m,uploadDone:p,confettiActive:h,handleInputChange:this.handleInputChange,handleFetch:this.handleFetch,handlePosts:this.handlePosts,handleImages:this.handleImages,handleUpload:this.handleUpload,handleConfetti:this.handleConfetti}},g)}}]),t}(n.Component),We=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Re,null,r.a.createElement(De,null)))},He=function(){return r.a.createElement(c.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(i.a,{exact:!0,path:"/",component:E}),r.a.createElement(i.a,{exact:!0,path:"/home",component:We})))};l.a.render(r.a.createElement(He,null),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.d33d9cc1.chunk.js.map